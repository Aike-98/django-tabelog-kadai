{% extends "base.html" %}
{% load bootstrap %}
{% block title %}ユーザー情報変更{% endblock %}

{% block content %}
<h1>ユーザー情報変更</h1>

<div class="container">

<form action="{% url 'user_update' %}" method="POST" class="w-75 mx-auto">
    {% csrf_token %}

    <table>

        {# ユーザー名 #}
        <tr>
            <th>ユーザー名</th>
            <th>
                {% if form.username.value %}
                    <input type="text" name="username" value={{form.username.value}}>
                {% else %}
                    <input type="text" name="username" value={{user.username}}>
                {% endif %}
            </th>
        </tr>

        {# メールアドレス #}
        <tr>
            <th>メールアドレス</th>
            <th>{{user.email}}</th>
        </tr>

        {# パスワード #}
        <tr>
            <th>パスワード</th>
            <th><a href="{% url 'password_change' %}">変更フォーム</a></th>
        </tr>

        {# 氏名（漢字） #}
        <tr>
            <th>氏名（漢字）</th>
            <th>
                {# 苗字 #}
                {% if form.last_name.value %}
                    <input type="text" name="last_name" value={{form.last_name.value}}>
                {% else %}
                    <input type="text" name="last_name" value={{user.last_name}}>
                {% endif %}

                {# 名前 #}
                {% if form.first_name.value %}
                    <input type="text" name="first_name" value={{form.first_name.value}}>
                {% else %}
                    <input type="text" name="first_name" value={{user.first_name}}>
                {% endif %}
            </th>
        </tr>

        {# 氏名（かな） #}
        <tr>
            <th>氏名（かな）</th>
            <th>
                {# 苗字 #}
                {% if form.last_name_kana.value %}
                    <input type="text" name="last_name_kana" value={{form.last_name_kana.value}}>
                {% else %}
                    <input type="text" name="last_name_kana" value={{user.last_name_kana}}>
                {% endif %}

                {# 名前 #}
                {% if form.first_name_kana.value %}
                    <input type="text" name="first_name_kana" value={{form.first_name_kana.value}}>
                {% else %}
                    <input type="text" name="first_name_kana" value={{user.first_name_kana}}>
                {% endif %}
            </th>
        </tr>

        {# 電話番号 #}
        <tr>
            <th>電話番号</th>
            <th>
                {% if form.first_name_kana.value %}
                    <input type="text" name="phone_number" value={{form.phone_number.value}}>
                {% else %}
                    <input type="text" name="phone_number" value={{user.phone_number}}>
                {% endif %}
            </th>
        </tr>

        {# 年齢 #}
        <tr>
            <th>年齢</th>
            <th>
                {% if form.first_name_kana.value %}
                    <input type="text" name="phone_number" value={{form.phone_number.value}}>
                {% else %}
                    <input type="text" name="phone_number" value={{user.phone_number}}>
                {% endif %}
                <input type="number" name="age">
            </th>
        </tr>

    </table>
    <input type="submit" class="btn btn-primary d-block mx-auto" value="保存">
</form>

</div>
{% endblock %}